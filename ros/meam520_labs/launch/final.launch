<?xml version="1.0"?>
<launch>

  <arg name="side" />
  <arg name="block_delay" default="5" />

  <!-- BASIC ENVIRONMENT -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find meam520_labs)/worlds/final.world"/>
    <arg name="paused" value="false" />
  </include>

  <!-- MOVING TURNTABLE -->
  <include file="$(find meam520_labs)/launch/turntable.launch" ns="turntable" />

  <!-- SCORABLE OBJECTS -->
  <!-- <include file="$(find al5d_gazebo)/launch/objects.launch" ns="objects" /> -->

  <node pkg="meam520_labs" name="block_spawner" type="block_spawner.py" output="screen"
    launch-prefix="bash -c 'sleep $(arg block_delay); $0 $@' "/>/>

    <include file="$(find meam520_labs)/launch/single.launch">
      <arg name="load_gazebo" value="false" />
      <arg name="x" value="0"/>
      <arg name="y" value="-.978" if="$(eval arg('side') == 'left')"/>
      <arg name="y" value=".978" if="$(eval arg('side') == 'right')"/>
      <arg name="z" value="0"/>
      <arg name="roll" value="0"/>
      <arg name="pitch" value="0"/>
      <arg name="yaw" value="0"/>
    </include>

    <!-- <include file="$(find meam520_labs)/launch/dummy.launch">
      <arg name="x" value="0"/>
      <arg name="y" value=".978" if="$(eval arg('side') == 'left')"/>
      <arg name="y" value="-.978" if="$(eval arg('side') == 'right')"/>
      <arg name="z" value="0"/>
      <arg name="roll" value="0"/>
      <arg name="pitch" value="0"/>
      <arg name="yaw" value="0"/>
    </include> -->




  <!-- RED TEAM -->
  <!-- <include file="$(find al5d_gazebo)/launch/single.launch" ns="red">
    <arg name="namespace" value="red" />
    <arg name="color" value="0.5725\ 0.0667\ 0.109\ 1" />
    <arg name="x" value="-.2"/>
    <arg name="y" value="-.2"/>
    <arg name="z" value="0"/>
    <arg name="roll" value="0"/>
    <arg name="pitch" value="0"/>
    <arg name="yaw" value="0"/>
  </include> -->

  <!-- BLUE TEAM -->
  <!-- <include file="$(find al5d_gazebo)/launch/single.launch" ns="blue">
    <arg name="namespace" value="blue" />
    <arg name="color" value="0.1137\ 0.2078\ 0.3412\ 1" />
    <arg name="x" value=".2"/>
    <arg name="y" value=".2"/>
    <arg name="z" value="0"/>
    <arg name="roll" value="0"/>
    <arg name="pitch" value="0"/>
    <arg name="yaw" value="3.141592"/>
  </include> -->

  <!-- unpause Gazebo physics after initialization -->
  <!-- <arg name="physics_delay" default="15"/>
  <node pkg="rosservice" type="rosservice" name="unpause"
    args="call /gazebo/unpause_physics"
    launch-prefix="bash -c 'sleep $(arg physics_delay); $0 $@' "/> -->

</launch>
